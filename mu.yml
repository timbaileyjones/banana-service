---
namespace: timba
environments:
- name: acceptance
  provider: ecs
  cluster:
    maxSize: 1
    keyName: timbaileyjones-labs-keypair
- name: production
  provider: ecs
  cluster:
    maxSize: 1
    keyName: timbaileyjones-labs-keypair
service:
  name: mu-banana
  port: 8080
  pathPatterns:
  - /bananas
  schedules:
  - name: Minutely
    expression: cron(* * * * ? *)
    command: curl http://timjones.com/minute-cron
  - name: Hourly
    expression: cron(0 * * * ? *)
    command: curl http://timjones.com/hour-cron
  pipeline:
    source:
      provider: GitHub
      repo: timbaileyjones/banana-service
      branch: master
    build:
      image: aws/codebuild/java:openjdk-8
